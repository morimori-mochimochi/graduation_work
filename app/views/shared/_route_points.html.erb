<div class="point-selector flex flex-wrap items-center justify-center gap-4">
  <div class="flex items-center gap-4">
    <button id="startPoint" class="btn_effect px-4 py-2 bg-white border-3 border-[#9A6812] rounded-md shadow-md font-bold">現在地</button>
    <div class="flex items-center gap-2">
      <div class="flex flex-col gap-1">
        <span class="font-bold text-[#624007]">出発</span>
        <select id="startHour" class="select select-bordered select-sm w-20 bg-white border-[#9A6812]">
          <option disabled selected>時</option>
          <% (0..23).each do |h| %>
            <option><%= format('%02d', h) %></option>
          <% end %>
        </select>
        <select id="startMinute"class="select select-bordered select-sm w-20 bg-white border-[#9A6812]">
          <option disabled selected>分</option>
          <% (0..59).step(1).each do |m| %>
            <option><%= format('%02d', m) %></option>
          <% end %>
        </select>
      </div>
    </div>
  </div>

  <!-- 中継点はこのコンテナの中にJavaScriptによって動的に追加されます -->
  <div id="relayPointsContainer" class="flex flex-col items-center justify-center gap-4"></div>

  <!-- 中継点要素のひな形 -->
  <template id="relay-point-template">
    <div class="relay-point-item flex flex-col items-center justify-center gap-4">
      <%= image_tag "/images/arrow.png", alt: "arrow", class: "h-5 w-auto" %>
      <div class="flex items-center gap-4">
        <button class="relay-point-name btn_effect px-4 py-2 bg-white border-3 border-[#9A6812] rounded-md shadow-md font-bold">中継地</button>
        <div class="flex flex-col gap-1">
          <span class="font-bold text-[#624007]">中継</span>
          <select class="relay-hour-select select select-bordered select-sm w-20 bg-white border-[#9A6812]">
            <option disabled selected>時</option>
            <% (0..23).each do |h| %>
              <option><%= format('%02d', h) %></option>
            <% end %>
          </select>
          <select class="relay-minute-select select select-bordered select-sm w-20 bg-white border-[#9A6812]">
            <option disabled selected>分</option>
            <% (0..59).step(1).each do |m| %>
              <option><%= format('%02d', m) %></option>
            <% end %>
          </select>
        </div>
        <div class="flex flex-col gap-1">
          <button class="remove-relay-point-btn text-red-500 text-xl btn_effect bg-white border-3 border-[#9A6812] rounded-md shadow-md font-bold w-6 h-6 flex items-center justify-center p-0">×</button>
          <% if local_assigns.fetch(:mode, nil) == :car %>
            <button id="searchNearby" class="appearance-none bg-transparent border-none">
              <%= image_tag "/images/search_parking.png", alt: "search_parking", class: "btn_effect mt-2 h-13 w-13" %>
            </button>
          <% end %>
        </div>
      </div>
    </div>
  </template>

  <%= image_tag "/images/arrow.png", alt: "arrow", class: "h-5 w-auto" %>
  <div class="flex items-center ml-15 gap-4">
    <button id="destinationPoint" class="btn_effect px-4 py-2 bg-white border-3 border-[#9A6812] rounded-md shadow-md font-bold">目的地</button>
    <div class="flex items-center gap-2">
      <div class="flex flex-col gap-1">
        <span class="font-bold text-[#624007]">到着</span>
        <select id="destinationHour" class="select select-bordered select-sm w-20 bg-white border-[#9A6812]">
          <option disabled selected>時</option>
          <% (0..23).each do |h| %>
            <option><%= format('%02d', h) %></option>
          <% end %>
        </select>
        <select id="destinationMinute" class="select select-bordered select-sm w-20 bg-white border-[#9A6812]">
          <option disabled selected>分</option>
          <% (0..59).step(1).each do |m| %>
            <option><%= format('%02d', m) %></option>
          <% end %>
        </select>
      </div>
      <% if local_assigns.fetch(:mode, nil) == :car %>
        <button id="searchNearby" class="appearance-none bg-transparent border-none">
          <%= image_tag "/images/search_parking.png", alt: "search_parking", class: "btn_effect mt-2 h-13 w-13" %>
        </button>
      <% end %>
    </div>
  </div>
</div>