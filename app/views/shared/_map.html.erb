<script>
  // #地図生成後に「読み込み完了」を通知するためにinitMapをラップ
  // #Google Maps API callback. ここでマップを生成しmapsreadyを解決
  function initMap() {

    const mapDiv = document.getElementById("map");
    console.log("mapDivの型: ", mapDiv.constructor.name);

    const gmap = new google.maps.Map(mapDiv, {
      center: { lat: 35.6812, lng: 139.7671 },
      zoom: 15,
      mapId: "56e6f7b7602076fe1ca74db5"
    });

    console.log("gmapの型: ",gmap.constructor.name);

  // #callbackとして参照されるようにグローバルへ登録
    window.map = gmap;
    console.log("window.map完了: ", window.map);
  };
</script>